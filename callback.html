---
layout: reference
---

<div class="resources">
    <div class="reference">
        <h1>
        Notificações de transações
        </h1>

        <p>
            O Padmoney oferece notificações de transações para permitir que seu sistema seja avisado automaticamente sempre que ocorrer uma mudança no status de alguma transação destinada a sua conta.
        </p>

        <h2>
            Configurando o recebimento de notificações
        </h2>

        <p>
            A configuração do recebimento de notificações é realizada nas configurações de sua conta no Padmoney, onde será possível informar a URL de Notificação além de gerar e recuperar o Código de Notificação notification-code e o Tipo de Notificação notification-type.
        </p>
    
        <h2>
            Recebendo uma notificação
        </h2>

        <p>
            O Padmoney enviará as notificações para a URL de Notificação que configurada usando o protocolo HTTPS, pelo método POST.
        </p>
        <p>
            Além dos cabeçalhos normais de uma requisição HTTPS POST, os seguintes cabeçalhos são enviados:
        </p>

        <table>
            <thead>
                <th>Cabeçalho</th>
                <th class="center">Obrigatório</th>
                <th>Descrição</th>
            </thead>
            <tbody>
                <tr>
                <td><code>notification-type</code></td>
                <td class="center">Sim</td>
                <td>Tipo de notificação</td>
                </tr>
                <tr>
                <td><code>notification-code</code></td>
                <td class="center">Sim</td>
                <td>Token de segurança, para validar requisição pertencente ao Padmoney</td>
                </tr>
            </tbody>
        </table>

    </div>
    <div class="sample">
        <ul>
            <li class="referente-item ok"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 200</a></li>
            <li class="referente-item bad-request"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 400</a></li>
            <li class="referente-item bad-request"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 404</a></li>
        </ul>
        <div class="code-sample-body">
            <div>
                <pre><code class="language-json">{
  "request_id": "cc7cefb4-cc82-4683-9e57-6c4de1e3a962",
  "date": "2018-01-01",
  "bank_billets": [
    {
      "id": "4a5918ec-baa7-4857-b829-961d2c1f890e",
      "our_number": "000000000042-2",
      "barcode": "999...99999",
      "identification_field": "9999...99999",
      "status": "opened"
    },
    {
      "id": "cad69779-4317-4d45-9d07-8e95d0252e37",
      "our_number": "000000000043-2",
      "barcode": "999...99999",
      "identification_field": "9999...99999",
      "status": "paid",
      "paid_amount": 1.99,
      "paid_at": "2018-01-01"
    }
  ]
}</code></pre>
            </div>
            <div>
                <pre><code class="language-json">{}</code></pre>
            </div>
        </div>
    </div>
</div>

<div class="resources">
    <div class="reference">
        <h2>
            Definir URL de Notificações
        </h2>

        <div class="operation-verbpath post">
        <span>POST</span>
        /notifications
        </div>

        <p>
            É possível também configurar a URL de notificação via API usando o método <code>notifications</code>.
        </p>

        <table>
            <thead>
                <th>Campo</th>
                <th class="center">Obrigatório</th>
                <th>Tipo</th>
                <th>Tamanho</th>
                <th>Descrição</th>
            </thead>
            <tbody>
                <tr>
                <td>url</td>
                <td class="center">Sim</td>
                <td class="center">String</td>
                <td>&nbsp;</td>
                <td>URL de notificação</td>
                </tr>
            </tbody>
        </table>

        <pre><code class="language-json">{
  "url": "https://url.test.com/notifications"
}</code></pre>

    </div>
    <div class="sample">
        <ul>
            <li class="referente-item ok"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 200</a></li>
            <li class="referente-item bad-request"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 400</a></li>
            <li class="referente-item bad-request"><a class="sample-item" href="javascript:void(0)"><i class="fas fa-circle"></i> 404</a></li>
        </ul>
        <div class="code-sample-body">
            <div>
            <pre><code class="language-json">{
  "url": "https://url.test.com/notifications",
  "notification_type": "transaction",
  "notification_code": "D30F9238-A610-47FD-85A6-36311ABE187B"
}</code></pre>
            </div>
            <div>
                <pre><code class="language-json">{}</code></pre>
            </div>
            <div>
                <pre><code class="language-json">No body returned for response</code></pre>
            </div>
        </div>
    </div>
</div>
