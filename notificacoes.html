---
layout: page
---

<div class="titulo_wrap">
    <h1>Notificações de transações</h1>
    <p class="breadcrumb">home > Notificações</p>
</div>
<div class="bloco">
    <h2>Notificações de transações</h2>

    <p>
        O Padmoney oferece notificações de transações para permitir que seu sistema seja avisado automaticamente
        sempre que ocorrer uma mudança no status de alguma transação destinada a sua conta.
    </p>

    <h3>Configurando o recebimento de notificações</h3>
    <p>
        A configuração do recebimento de notificações é realizada nas configurações de sua conta no Padmoney,
        onde será possível informar a <strong>URL de Notificação</strong>
        além de gerar e recuperar o <strong>Código de Notificação</strong> <code>notification-code</code>
        e o <strong>Tipo de Notificação</strong> <code>notification-type</code>.
    </p>

    <h3>Recebendo uma notificação</h3>
    <p>O Padmoney enviará as notificações para a <strong>URL de Notificação</strong> que configurada usando o protocolo <code>HTTPS</code>, pelo método <code>POST</code>.</p>
    <p>Além dos cabeçalhos normais de uma requisição HTTPS POST, os seguintes cabeçalhos são enviados:</p>

    <table border="1">
        <thead>
            <th>Cabeçalho</th>
            <th class="center">Obrigatório</th>
            <th>Descrição</th>
        </thead>
        <tbody>
            <tr>
                <td><code>notification-type</code></td>
                <td class="center">Sim</td>
                <td>Tipo de notificação</td>
            </tr>
            <tr>
                <td><code>notification-code</code></td>
                <td class="center">Sim</td>
                <td>Token de segurança, para validar requisição pertencente ao Padmoney</td>
            </tr>
        </tbody>
    </table>

    <h3>retorno</h3>

    <pre>{
  "request_id": "cc7cefb4-cc82-4683-9e57-6c4de1e3a962",
  "date": "2018-01-01T08:42:00.000-03:00",
  "bank_billets": [
    {
      "id": 1,
      "our_number": "000000000042-2",
      "barcode": "99999999999999999999999999999999999999999999",
      "identification_field": "99999999999999999999999999999999999999999999999",
      "status": "opened"
    },
    {
      "id": 2,
      "our_number": "000000000043-2",
      "barcode": "99999999999999999999999999999999999999999999",
      "identification_field": "99999999999999999999999999999999999999999999999",
      "status": "paid",
      "paid_amount": 1.99,
      "paid_at": "2018-01-01"
    }
  ]
}</pre>
    <p>
        <a href="/parametrizacao#status-boleto">Consulte aqui</a> os possíveis valores para o campo <code>status</code>.
    </p>
</div><!-- / bloco -->


<div class="bloco">
    <h2 id="url-notificacao">Definir URL de Notificações</h2>
    <div class="trigger">
        <p class="method-http verde">
            <strong>POST</strong>
            <code>/notifications</code>
        </p>
    </div>

    <p>É possível também configurar a URL de notificação via API usando o método <code>notifications</code>.</p>

    <table border="1">
        <thead>
            <th>Campo</th>
            <th class="center">Obrigatório</th>
            <th>Tipo</th>
            <th>Tamanho</th>
            <th>Descrição</th>
        </thead>
        <tbody>
            <tr>
                <td>url</td>
                <td class="center">Sim</td>
                <td class="center">String</td>
                <td>&nbsp;</td>
                <td>URL de notificação</td>
            </tr>
        </tbody>
    </table>

    <h3>Exemplo</h3>
    <div class="codigo">
        <div class="copy" data-clipboard-action="copy" data-clipboard-target="#criar-exemplo">Copy</div>
        <pre id="criar-exemplo">{
  "url": "https://url.test/notifications"
}</pre>
    </div>

    <h3>Retorno</h3>
    <pre>{
  "url": "https://url.test/notifications",
  "notification_type": "transaction",
  "notification_code": "D30F9238-A610-47FD-85A6-36311ABE187B"
}</pre>

</div>